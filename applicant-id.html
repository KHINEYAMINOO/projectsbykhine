<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¿œå‹Ÿè€…ç•ªå·ç™ºè¡Œãƒšãƒ¼ã‚¸</title>
  
</head>
<style>
  body {
    font-family: "Noto Sans JP", sans-serif;
    background-image: url("https://images.unsplash.com/photo-1503264116251-35a269479413?q=80&w=1974&auto=format&fit=crop");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    color: #111010;
  }

  /* ğŸ©µ ã‚¬ãƒ©ã‚¹é¢¨ãƒœãƒƒã‚¯ã‚¹ */
  .glass-box {
    background: rgba(255, 255, 255, 0.12);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 20px;
    padding: 40px 30px;
    width: 380px;
    text-align: center;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.25);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
  }

  h1 {
    font-size: 1.8rem;
    margin-bottom: 10px;
    font-weight: 700;
  }

  p {
    color: rgba(15, 14, 14, 0.9);
    margin-bottom: 25px;
  }

  #idBox {
    margin: 0 auto 25px;
    padding: 18px;
    width: 80%;
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.15);
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: #1d1616;
    font-size: 18px;
    box-shadow: inset 0 1px 4px rgba(0,0,0,0.15);
  }

  button {
    padding: 12px 25px;
    margin: 8px;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.25s ease-in-out;
  }

  #generateBtn {
    background: #60a5fa;
    color: #fff;
  }

  #generateBtn:hover {
    background: #3b82f6;
  }

  #registerBtn {
    background: #34d399;
    color: #fff;
    display: none;
  }

  #registerBtn:hover {
    background: #059669;
  }
  </style>
<body>
  <div class="glass-box">
    <h1>å¿œå‹Ÿè€…ç•ªå· ç™ºè¡Œãƒšãƒ¼ã‚¸</h1>
    <p>ã€Œç•ªå·ã‚’ç™ºè¡Œã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€å¿œå‹Ÿè€…ç•ªå·ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>

    <div id="idBox">ã¾ã ç•ªå·ã¯ç™ºè¡Œã•ã‚Œã¦ã„ã¾ã›ã‚“</div>

    <button id="generateBtn">ç•ªå·ã‚’ç™ºè¡Œ</button>
    <button id="registerBtn" style="display:none;">ç™»éŒ²ã¯ã“ã¡ã‚‰</button>
  </div>
</body>
<script type="module">
  
document.addEventListener("DOMContentLoaded", () => {
  const idBox = document.getElementById("idBox");
  const generateBtn = document.getElementById("generateBtn");
  const registerBtn = document.getElementById("registerBtn");

  // ç”Ÿæˆã—ãŸIDã‚’ãƒãƒ³ãƒ‰ãƒ©é–“ã§å…±æœ‰
  let currentId = null;

  generateBtn.addEventListener("click", () => {
    // 6æ¡å›ºå®šã§è¦‹æ „ãˆã‚’æƒãˆã‚‹ï¼ˆä¾‹: AP-613630ï¼‰
    const num = Math.floor(Math.random() * 1000000).toString().padStart(6, "0");
    currentId = `AP-${num}`;

    idBox.textContent = `ã‚ãªãŸã®å¿œå‹Ÿè€…ç•ªå·: ${currentId}`;
    registerBtn.style.display = "inline-block";
  });

  registerBtn.addEventListener("click", () => {
    if (!currentId) {
      alert("ã¾ãšã€ç•ªå·ã‚’ç™ºè¡Œã€ã‚’æŠ¼ã—ã¦ãã ã•ã„");
      return;
    }
    // regNo ã‚’URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§æ¸¡ã™
    window.location.href = `./registration_form.html?regNo=${encodeURIComponent(currentId)}`;
  });
});


</script>
</html>
